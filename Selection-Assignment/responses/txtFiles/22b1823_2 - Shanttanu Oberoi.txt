Let's assume we can write n by using i spells in an order. Lets start from the first operation and will go till i operation. After the 1st operation, I will get 2+k1 as output, where k1 can be either 1 or -1 and after the second operation the output will be 4+2k1+k2 and so on until after ith operation, i will be 2^i+2^(i-1)*k1+......2^(i-i)ki which is equal to n. I can see from this equation that n can be only odd numbers. I can also find the values of k1,k2,....ki by first converting n to binary and converting all 1's in binary to 2 and all 0's in binary to 1 and check the value assigned to 2^z in new binary system and the kz value will be +1 if 2 is the value assigned and -1 if 1 is the value assigned. Hence, by this I can find the values of k1,k2,....ki that will satisfy my n=2^i+2^(i-1)*k1+......2^(i-i)ki equation.